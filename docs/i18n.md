# Internationalization (i18n)

Dartian provides a convenient way to build multi-language applications using translation files.

## Language Files

All of your application's translation strings are stored in files within the `resources/lang` directory. Within this directory, there should be a subdirectory for each language supported by your application.

For example, for English and Spanish, you would have:

```
resources/
└── lang/
    ├── en/
    │   └── messages.dart
    └── es/
        └── messages.dart
```

Each language file is a simple Dart file that exports a `Map<String, dynamic>` of string translations:

```dart
// resources/lang/en/messages.dart
const Map<String, dynamic> translations = {
  'welcome': 'Welcome to our application!',
};
```

```dart
// resources/lang/es/messages.dart
const Map<String, dynamic> translations = {
  'welcome': '¡Bienvenido a nuestra aplicación!',
};
```

You can generate a new language file using the `make:lang` CLI command:

```bash
dartian make:lang fr
```

This will create a `resources/lang/fr/messages.dart` file.

## Translating Strings

You can translate strings using the global `__()` helper function. This function accepts the translation key as its first argument.

```dart
// In a controller or view...
import 'package:dartian_i18n/dartian_i18n.dart';

String welcomeMessage = __('messages.welcome');
```

The key is a string that corresponds to the keys in your language files. The first segment of the key is the filename (without the `.dart` extension), and the subsequent segments correspond to the nested keys within the map.

### Placeholders

You can define placeholders in your translation strings to be replaced with dynamic values. Placeholders are prefixed with a colon (`:`).

```dart
// resources/lang/en/messages.dart
const Map<String, dynamic> translations = {
  'greeting': 'Hello, :name!',
};
```

You can pass a map of replacements as the second argument to the `__()` function:

```dart
__('messages.greeting', {'name': 'John Doe'}); // "Hello, John Doe!"
```

## Locale Detection

Dartian will automatically detect the user's desired language based on the `Accept-Language` header of the incoming HTTP request.

The default locale for your application can be configured in `config/app.dart`. If a translation is not found for the current locale, Dartian will fall back to the default locale.
